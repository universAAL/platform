<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Persistence (universAAL Super POM 3.4.1-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Persistence (universAAL Super POM 3.4.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Persistence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/PersistenceDerby.html" title="class in org.universAAL.ri.api.manager.server.persistence"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/universAAL/ri/api/manager/server/persistence/Persistence.html" target="_top">Frames</a></li>
<li><a href="Persistence.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.universAAL.ri.api.manager.server.persistence</div>
<h2 title="Interface Persistence" class="title">Interface Persistence</h2>
<map id="G" name="G">
<area shape="rect" id="c6374136" href="./PersistenceMySQL.html" title="org.universAAL.ri.api.manager.server.persistence.PersistenceMySQL" alt="" coords="16,118,149,143"/>
<area shape="rect" id="node1" href="./PersistenceMySQL.html" title="&lt;TABLE&gt;" alt="" coords="5,107,160,155"/>
<area shape="rect" id="c6374137" href="./Persistence.html" title="org.universAAL.ri.api.manager.server.persistence.Persistence" alt="" coords="125,11,214,53"/>
<area shape="rect" id="node2" href="./Persistence.html" title="&lt;TABLE&gt;" alt="" coords="115,6,224,58"/>
<area shape="rect" id="c6374138" href="./PersistenceDerby.html" title="org.universAAL.ri.api.manager.server.persistence.PersistenceDerby" alt="" coords="195,118,320,143"/>
<area shape="rect" id="node3" href="./PersistenceDerby.html" title="&lt;TABLE&gt;" alt="" coords="184,107,331,155"/>
</map>
<!-- UML diagram added by UMLGraph version R5_6-24-gf6e263 (http://www.umlgraph.org/) -->
<div align="center"><img src="Persistence.png" alt="Package class diagram package Persistence" usemap="#G" border=0/></div>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/PersistenceDerby.html" title="class in org.universAAL.ri.api.manager.server.persistence">PersistenceDerby</a>, <a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/PersistenceMySQL.html" title="class in org.universAAL.ri.api.manager.server.persistence">PersistenceMySQL</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Persistence</span></pre>
<div class="block">Database interface for persisting the calls from clients. This allows clients
 not having to re-send their subscriptions or registers when the server goes
 down.
 
 The persistence operates only at the level of the requests by the clients,
 not the actual nodes and wrappers in MW. These will go up and down together
 with the manager bundle. It is better to see this as a persistence for when
 the bundle is down, rather than the whole server.
 
 Only information about registration, context subscribers and service callees
 is persisted for the remote nodes. Context events and service calls are not
 persisted since they are "consumed" as they come.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>alfiva</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#checkUser-java.lang.String-">checkUser</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user)</code>
<div class="block">Check if a user is already persisted with an associated password pair.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#checkUserPWD-java.lang.String-java.lang.String-">checkUserPWD</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user,
            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pwd)</code>
<div class="block">Method that checks the proper authentication of a persisted user-password
 pair.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#init-org.universAAL.ri.api.manager.RemoteAPI-org.universAAL.middleware.container.ModuleContext-">init</a></span>(<a href="../../../../../../../org/universAAL/ri/api/manager/RemoteAPI.html" title="interface in org.universAAL.ri.api.manager">RemoteAPI</a>&nbsp;remoteAPI,
    <a href="../../../../../../../org/universAAL/middleware/container/ModuleContext.html" title="interface in org.universAAL.middleware.container">ModuleContext</a>&nbsp;context)</code>
<div class="block">Sets up the underlying database, creating any tables if not present
 before, and performing any mainenance operations.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#removeRegister-java.lang.String-">removeRegister</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Eliminate all persisted info (node registration, subscribers and callees)
 of a remote node</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#restore--">restore</a></span>()</code>
<div class="block">Restore in the R-API implementation (and consequently in the MW) all the
 persisted information (registration, subscribers and callees) for all
 nodes.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#storeCallee-java.lang.String-java.lang.String-">storeCallee</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;profile)</code>
<div class="block">Persist a request to have a service callee for a node</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#storeRegister-java.lang.String-java.lang.String-java.lang.String-">storeRegister</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;remote,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;v)</code>
<div class="block">Persist a request to have a registration of a remote node</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#storeSubscriber-java.lang.String-java.lang.String-">storeSubscriber</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
               <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pattern)</code>
<div class="block">Persist a request to have a context subscriber for a node</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/Persistence.html#storeUserPWD-java.lang.String-java.lang.String-">storeUserPWD</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user,
            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pwd)</code>
<div class="block">Store a new user-password pair for later authentication.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="init-org.universAAL.ri.api.manager.RemoteAPI-org.universAAL.middleware.container.ModuleContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>void&nbsp;init(<a href="../../../../../../../org/universAAL/ri/api/manager/RemoteAPI.html" title="interface in org.universAAL.ri.api.manager">RemoteAPI</a>&nbsp;remoteAPI,
          <a href="../../../../../../../org/universAAL/middleware/container/ModuleContext.html" title="interface in org.universAAL.middleware.container">ModuleContext</a>&nbsp;context)</pre>
<div class="block">Sets up the underlying database, creating any tables if not present
 before, and performing any mainenance operations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>remoteAPI</code> - The Remote API instance being used in the manager</dd>
<dd><code>context</code> - Module Context of universAAL</dd>
</dl>
</li>
</ul>
<a name="storeRegister-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeRegister</h4>
<pre>void&nbsp;storeRegister(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;remote,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;v)</pre>
<div class="block">Persist a request to have a registration of a remote node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id used to uniquely identify the remote node</dd>
<dd><code>remote</code> - The remote access information for a remote node</dd>
<dd><code>v</code> - The version of client invoking the API. Descriptive only. Can be null.</dd>
</dl>
</li>
</ul>
<a name="removeRegister-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeRegister</h4>
<pre>void&nbsp;removeRegister(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre>
<div class="block">Eliminate all persisted info (node registration, subscribers and callees)
 of a remote node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id used to uniquely identify the remote node</dd>
</dl>
</li>
</ul>
<a name="storeSubscriber-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeSubscriber</h4>
<pre>void&nbsp;storeSubscriber(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pattern)</pre>
<div class="block">Persist a request to have a context subscriber for a node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id used to uniquely identify the remote node</dd>
<dd><code>pattern</code> - The serialized ContextEventPattern sent by the remote node in
            the request</dd>
</dl>
</li>
</ul>
<a name="storeCallee-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeCallee</h4>
<pre>void&nbsp;storeCallee(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
                 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;profile)</pre>
<div class="block">Persist a request to have a service callee for a node</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - The id used to uniquely identify the remote node</dd>
<dd><code>profile</code> - The serialized ServiceProfile sent by the remote node in the
            request</dd>
</dl>
</li>
</ul>
<a name="restore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restore</h4>
<pre>void&nbsp;restore()</pre>
<div class="block">Restore in the R-API implementation (and consequently in the MW) all the
 persisted information (registration, subscribers and callees) for all
 nodes.</div>
</li>
</ul>
<a name="storeUserPWD-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeUserPWD</h4>
<pre>void&nbsp;storeUserPWD(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user,
                  <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pwd)</pre>
<div class="block">Store a new user-password pair for later authentication. There is no
 "change" method for this, so any change will require manual modification
 of the persistence.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - User</dd>
<dd><code>pwd</code> - Password</dd>
</dl>
</li>
</ul>
<a name="checkUserPWD-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkUserPWD</h4>
<pre>boolean&nbsp;checkUserPWD(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;pwd)</pre>
<div class="block">Method that checks the proper authentication of a persisted user-password
 pair.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - User</dd>
<dd><code>pwd</code> - Password</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if pwd matches the initially stored value and no errors
         occured</dd>
</dl>
</li>
</ul>
<a name="checkUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkUser</h4>
<pre>boolean&nbsp;checkUser(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user)</pre>
<div class="block">Check if a user is already persisted with an associated password pair.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there is already a user-password pair persisted.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Persistence.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../org/universAAL/ri/api/manager/server/persistence/PersistenceDerby.html" title="class in org.universAAL.ri.api.manager.server.persistence"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/universAAL/ri/api/manager/server/persistence/Persistence.html" target="_top">Frames</a></li>
<li><a href="Persistence.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.universAAL.org/">universAAL Consortium</a>. All rights reserved.</small></p>
</body>
</html>
